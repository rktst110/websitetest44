
<!-- Importing Firebase SDK Starts Here-->
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
 <!-- Importing Firebase SDK Ends Here-->
 
 <!-- Importing JS files for charts of CanvaJs & HighCharts Starts Here-->
<script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/heatmap.js"></script>
<script src="https://code.highcharts.com/modules/treemap.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
 <!-- Importing JS files for charts of CanvaJs & HighCharts Ends Here-->
 

  <script src="functions/commonFunctions.js"></script>
  <script src="functions/tableSortingFunctons.js"></script>
 <script src="functions/importFiles.js"></script>
 <script src="functions/firebase.js"></script>
 <script src="functions/firebaseFunctions.js"></script>

 <div id="importedContent"></div>
  
  
  <title>Indices + Sectors</title>



<style>

body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background-color:  #555;
  color: white; /* Set the text color to white */
}

thead {
  position: sticky;
  top: 0;
}

.column {
  float: left;
  padding: 0px;
  height: 560px;
  
}

.left {
  width: 28%;
    margin: 0px 0px 10px;
	 height: 600px;
	 
  }

.right {
  width: 72%;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

@media screen and (max-width: 800px) {
  .column {
    width: 100%;
  }
}

.column2 {
  float: left;
  width: 46%;
  padding: 0px;
  height: 550px;
  margin: 0px 15px 15px;
}

@media screen and (max-width: 800px) {
  .column2 {
    width: 100%;
	margin: 0px 0px 15px;
	 }
  }

  @media screen and (min-width: 800px) {
    .sticky{
    position: fixed;
    width: 28%;
	top: 15px;
	height: 590px;
	
}

.ExtraDiv{
min-height: 560px;
}

.AD{
width: 49%;
 }
  }
  
  @media screen and (max-width: 300px) {
  .sticky{
   height: 500px;
   width: 28%;
}

.ExtraDiv{
   height: 0px;
   min-height: 0px;
   width: 28%;
}

.AD{
    width: 98%;
	margin-top: 10px;
}
  }
    
.DonutClass {
  float: left;
  width: 47%;
  padding: 0px;
  height: 287px;
  margin: 0px 6px 10px;
}

@media screen and (max-width: 800px) {
  .DonutClass {
    height: 287px;
    width: 47%;
	margin: 0px 3px 10px;
	 }
  }  
  
  td {
  text-align: center;
}

.ColorMeans{
  text-align: center;
  background-color: ;
  height: 40px;
   width: 98.5%;
   margin: 0px 5px 5px 5px;
   
}

.Eachcolor {
float: left;
padding:px;
width: 19.5%;
height: 38px;
margin-left: 2px;
}

</style>

<style> *, *:before, *:after {box-sizing: border-box;}body {font-family: -apple-system, ".SFNSText-Regular", "Helvetica Neue", "Roboto", "Segoe UI", sans-serif;}.toggle {cursor: pointer;display: inline-block;}.toggle-switch {display: inline-block;background: #ccc;border-radius: 16px;width: 58px;height: 32px;position: relative;vertical-align: middle;transition: background 0.25s;}.toggle-switch:before, .toggle-switch:after {content: "";}.toggle-switch:before {display: block;background: linear-gradient(to bottom, #fff 0%, #eee 100%);border-radius: 50%;box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.25);width: 24px;height: 24px;position: absolute;top: 4px;left: 4px;transition: left 0.25s;}.toggle:hover .toggle-switch:before {background: linear-gradient(to bottom, #fff 0%, #fff 100%);box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.5);}.toggle-checkbox:checked + .toggle-switch {background: #56c080;}.toggle-checkbox:checked + .toggle-switch:before {left: 30px;}.toggle-checkbox {position: absolute;visibility: hidden;}.toggle-label {margin-left: 5px;position: relative;top: 2px;} </style>
		


 <label>Month Year:</label>
<select id="monthYear" onchange="getFirestoreData()">
</select>

 <label> | Trading Date:</label>
<select id="tradingDate" onchange="setCommonSelectors()">
</select>


 <label> | Common TimeValues:</label>
<select id="commonTimeValues" onchange="saveSelectedValues();fetchDataForAllSegments()">
</select>

&nbsp; | &nbsp;&nbsp;
<button id="dataRefreshButton" onclick="getFirestoreData('refresh','')">Refresh</button>
&nbsp;&nbsp;<button id="dataRefreshButton" onclick="getFirestoreData('live','')">Live</button>

<hr>


 <label> Indices TimeValues:</label>
<select id="indicesTimeValues" onchange="getIndicesData()">
</select>

<span class="toggle-label">Show Table :  </span> <label class="toggle">  <input id="showTablesOnOff" class="toggle-checkbox" type="checkbox" onchange="getIndicesData()" checked> <div class="toggle-switch"></div> </label>   

&nbsp; | &nbsp;&nbsp;
 <label> Equity TimeValues:</label>
<select id="equityTimeValues" onchange="getSectorsStocksData()">
</select>
<select id="marketType">
<option>ALL</option>
<option>FnO</option>
</select>

                <button  style="float: right; margin-right:20px;" onclick="colorsDefine()">Colors</button>
<br>
<br>



<!--Content Start From Here-->
<div class="row ">
  <div class="column left">
<div class="" id="stick"  style="">
<div id="IndicesPerformanceChart" style="min-height: 600px; height: auto;width: 100%;"></div>
<!--<div id="MarketSentiment" style="min-height: 620px; height: auto;width: 100%; background-color: ; margin: 10px 2px 0px 0px;"></div>-->
<!--<div id="ExtraDiv" class="ExtraDiv"  style="min-height: ; height: auto;width: 100%; background-color: ;"></div>-->
</div> 

 
     </div>
	 
	 <!--75% Starts Here-->
  <div class="column right">
 <div class="ColorMeans" id="ColorMeans"  style="display: none;">
 
<div class="Eachcolor" style="background-color:#797777">
  <p style="color:white; font-size:15px; float: left;">Nuetral</p>
</div>

<div class="Eachcolor" style="background-color:#c05b5b">
   <p style="color:white; font-size:15px; float: left;">Sell</p>
</div>

<div class="Eachcolor" style="background-color:#990000">
    <p style="color:white; font-size:15px; float: left;">Strong Sell</p>
</div>

<div class="Eachcolor" style="background-color:#5586c3">
    <p style="color:white; font-size:15px; float: left;">Buy</p>
</div>

<div class="Eachcolor" style="background-color:#0c4b98de">
    <p style="color:white; font-size:15px; float: left;">Strong Buy</p>
</div>

</div>
 <div class="row ">
 <div class="column AD" style="min-height: ; height: auto;width: ; background-color: ; margin-left: 5px;">
  <div id="MarketSentiment" style="min-height: 580px; height: auto;width: 100%; background-color: ; margin: 0px 0px 0px 0px;"></div>
  </div>
  <div class="column AD" style="min-height: 580px; height: auto;width: ; background-color: ;">
   <div class="DonutClass" id="NiftyBankDonutChartContainer"></div>
<div class="DonutClass" id="Nifty50DonutChartContainer"></div> 
<div class="DonutClass" id="FnODonutChartContainer"></div>
<div class="DonutClass" id="NiftyTotalMarketDonutChartContainer"></div>
   </div>
 </div>


<div class="spaceBetweenTables">  	<div id="sectorsStocksDataTableContainer"></div> </div>
	
  </div>
  <!--75% Starts Here-->
</div>

<script>
function colorsDefine() {
  var x = document.getElementById("ColorMeans");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script>

<script>
window.onscroll = function() {myFunction()};

var stick = document.getElementById("stick");
var sticky = stick.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    stick.classList.add("sticky");
  } else {
    stick.classList.remove("sticky");
  }
}
</script>
<!--Content Ends Here-->


<script>
function fetchDataForAllSegments()
{
setIndicesSelectorTimeValues( "syncWithCommonTime" );
setEquitySelectorTimeValues( "syncWithCommonTime" );
//setSpurtsSelectorTimeValues( "syncWithCommonTime" );

}
</script>



<!-- Indices Code Starts Here -->
<script>

function setIndicesSelectorTimeValues( passedValue )
{
	var tradingDate = document.getElementById('tradingDate').value
	var timeValuesArray = firestoreIndexObj[ tradingDate ]['Index']['index_performace']
	var selectElementRef = document.getElementById("indicesTimeValues");
	
	handleTimeValues( passedValue, timeValuesArray, selectElementRef, getIndicesData )
}

async function getIndicesData( passedValue )
{
	var selectedMonthYear = document.getElementById('monthYear').value
	var selectedTradingDate = document.getElementById('tradingDate').value
	var selectedIndicesTimeValues = document.getElementById('indicesTimeValues').value
	
	var docPath = '/'+selectedMonthYear+'/'+selectedTradingDate+'/index_performace/'+selectedIndicesTimeValues
	//await fetchFirebaseDocData( docPath, showIndicesPerformanceChart )
	var dataObj = await fetchFirebaseDocData( docPath )
	showIndicesPerformanceChart ( JSON.parse( dataObj['data'] ) )
	showIndicesAdvDecUncChart ( JSON.parse( dataObj['data'] ) )

}

async function showIndicesPerformanceChart ( returnedDataObj )
{

	var selectedMonthYear = document.getElementById('monthYear').value
	var selectedTradingDate = document.getElementById('tradingDate').value

	
	var selectedIndicesTimeValues = document.getElementById('indicesTimeValues').value
	//var selectedValue = document.getElementById("indices_performance_time").value;
		
	//var indicesPerformanceObject = mainOIDataObject['index_performace'][selectedValue]
	var indicesPerformanceObject = returnedDataObj ['data']
		
	var dataPointsArray=[]
	var dataPointsArrayAdvances=[]
	var dataPointsArrayDeclines=[]
	var dataPointsArrayUnchanged=[]
	var dataPointsArrayPChangeAddition=[]
	
	var tempObj={}
	
	
	
	  var onlyEquityTableStr = ' <div class=""> <div class="spaceBetweenTablesSpurtsEquity" style="height:550px;"> <table id="indicesLevels"> <caption style="caption-side:top"> Indices Levels | '+selectedTradingDate+' | '+selectedIndicesTimeValues+'</caption> <thead> <tr class="tableRowClass">'
	  +'<th>Symbol</th>'
	  +' <th>Chang%</th>'
	   +' <th>Level</th>'
	   //+' <th>Range</th>'
	  +' </tr> </thead> <tbody>'

	
	
	for (var symbol in indicesPerformanceObject) {
		//if(symbol !='INDIA VIX' && symbol !='NIFTY FINSRV25 50' && symbol !='NIFTY HEALTHCARE' )
		//if(symbol !='INDIA VIX' && symbol !='NIFTY FINSRV25 50' )
		if(symbol !='INDIA VIX' && symbol !='NIFTY FINSRV25 50' && symbol !='NIFTY NEXT 50' && symbol !='NIFTY 100' && symbol !='NIFTY 200' && symbol !='NIFTY 500' && symbol !='NIFTY MIDCAP 50' && symbol !='NIFTY MIDCAP 100' && symbol !='NIFTY SMLCAP 100' && symbol !='NIFTY MIDCAP 150' && symbol !='NIFTY SMLCAP 50' && symbol !='NIFTY SMLCAP 250' && symbol !='NIFTY MIDSML 400' && symbol !='NIFTY500 MULTICAP' && symbol !='NIFTY LARGEMID250' && symbol !='NIFTY TOTAL MKT' && symbol !='NIFTY MICROCAP250' && symbol !='NIFTY PSE' && symbol !='NIFTY SERV SECTOR' && symbol !='NIFTY COMMODITIES' && symbol !='NIFTY HEALTHCARE' )
		{
		tempObj[symbol]=indicesPerformanceObject[symbol]['percentChange']
		
		
		{
		
		var symbolArray = indicesPerformanceObject[symbol] //for short-handing

	 var DayHigh = symbolArray['high'] 
	 var DayLow = symbolArray['low'] 
	 var LastPrice = symbolArray['last'] 
	
	  var DayRange =( ( (DayHigh - DayLow) / DayLow) )
	   var Level =  ( ( ( (LastPrice - DayLow) / DayLow) *100) / DayRange) 
var indiceSymbol = symbol
if( symbol !='NIFTY 50' )
indiceSymbol = symbol.replace('NIFTY ','')

			onlyEquityTableStr +='<tr class="item"><td>'
			 +indiceSymbol
			 +'</td><td>'
			+ symbolArray['percentChange']  
			 +'</td><td>'
			 +Level.toFixed(0) //( symbolArray['totalTradedValue'] / 1000000).toFixed(0)  //(symbolArray[8] / 10000000).toFixed(2) //totalTradedValue
			//+'</td><td>'
			//+ DayRange.toFixed(0)
			+'</td></tr>'

		}
	
		
		}
	}
	
	onlyEquityTableStr +=' </tbody> </table>    </div>  </div>'
	
			
if( document.getElementById('showTablesOnOff').checked==true )
{ 
	document.getElementById("IndicesPerformanceChart").innerHTML = onlyEquityTableStr
	addEventListnerInTables()
}
else
{
// tempObj is sorted by this code
//Object.keys(tempObj).sort((a,b) => tempObj[a]-tempObj[b]).forEach((symbol) => { 	// ascending sort
Object.keys(tempObj).sort((a,b) => tempObj[a]-tempObj[b]).forEach((symbol) => {  	//  descending sort
var temp={}
if(symbol !='NIFTY 50' && symbol !='NIFTY BANK')
//if(symbol !='NIFTY BANK')
{
	temp["label"]=symbol.replace(/NIFTY /g,'')
}
else{
	temp["label"]=symbol
}
	
		//temp["y"]=tempObj[symbol]; 
		temp["y"]= Math.abs( tempObj[symbol] ); 
		if(tempObj[symbol]<0) 
		{
			temp["color"]= "#c8433e" //"#cd5652" //Bearish
		}
		else if(tempObj[symbol]>0) 
		{
			temp["color"]= "#2367c0" //"#3a7dd4" //Bullish
		}
		else if(tempObj[symbol]==0) 
		{
			temp["color"]="3a7dd4"
		}
		
		dataPointsArray.push(temp)
	});
	
/*
Object.keys(tempObj).sort((a,b) => tempObj[b]-tempObj[a]).forEach((symbol) => {  	//  descending sort
var temp={}
var sectorName = symbol.replace(/_/g,' ')
if(sectorName !='NIFTY 50' && sectorName !='NIFTY BANK')
//if(symbol !='NIFTY BANK')
{
	temp["label"]=sectorName.replace(/NIFTY /g,'')
}
else{
	temp["label"]=sectorName
}
	
		temp["y"]=indicesPerformanceObject[symbol][9]; 
		temp["color"]="#089981"
			
		dataPointsArrayAdvances.push(temp)
		//console.log(symbol, preMarketSectorObj[symbol]["advances"])
	});
	
Object.keys(tempObj).sort((a,b) => tempObj[b]-tempObj[a]).forEach((symbol) => {  	//  descending sort
var temp={}
var sectorName = symbol.replace(/_/g,' ')
if(sectorName !='NIFTY 50' && sectorName !='NIFTY BANK')
//if(symbol !='NIFTY BANK')
{
	temp["label"]=sectorName.replace(/NIFTY /g,'')
}
else{
	temp["label"]=sectorName
}
	
		temp["y"]=indicesPerformanceObject[symbol][10]; 
		temp["color"]="#cd5652"
		
	
		
		dataPointsArrayDeclines.push(temp)
		
	});	
	
Object.keys(tempObj).sort((a,b) => tempObj[b]-tempObj[a]).forEach((symbol) => {  	//  descending sort
var temp={}
var sectorName = symbol.replace(/_/g,' ')
if(sectorName !='NIFTY 50' && sectorName !='NIFTY BANK')
//if(symbol !='NIFTY BANK')
{
	temp["label"]=sectorName.replace(/NIFTY /g,'')
}
else{
	temp["label"]=sectorName
}
	
		temp["y"]=indicesPerformanceObject[symbol][11]; 
	
		temp["color"]="#cbba4d"
		
		
		dataPointsArrayUnchanged.push(temp)
	});
	
	*/
// this section is for plotting indices chart for simple perchange change of single column bar
var chart = new CanvasJS.Chart("IndicesPerformanceChart", {
	animationEnabled: false,
	theme: "dark2", // "light1", "light2", "dark1", "dark2"
	title: {
		//text: "GDP Growth Rate - 2016"
	},
	subtitles: [{
			//text: "Subtitle 1"
		  },{
			text:  returnedDataObj['timestamp'].split(' ')[0] +' | '+ selectedIndicesTimeValues +' | '+returnedDataObj['timestamp'].split(' ')[1],
			//verticalAlign: "top",

			 //horizontalAlign: "right",
	
			 //fontSize: 15,
			 fontSize: 15,
			//dockInsidePlotArea: true
			dockInsidePlotArea: false
	}],
	
	toolTip: {
			//fontSize: 19,
			fontSize: 14,
	},
	axisY: {
		//title: "Growth Rate (in %)",
		//includeZero: true,
		//suffix: "%",
		gridThickness: 0.03,
		//labelFontSize: 18,
		labelFontSize: 0, // bottom size for change%
		 tickLength: 0,
		 
	},
	axisX: {
		interval: 1,
		//title: "Countries"
		includeZero: true,
		 //labelFontSize: 17,
		 labelFontSize: 14, // vertical axis size for text
		 //labelFontWeight: "bold",
		  lineThickness: 0.5,
         lineColor: "#ccc",
		 tickColor: "#555",
		 tickLength: 0,
		
		 
	},
	dataPointWidth: 13.5,
	data: [{
		//indexLabel: "{y}",
		//indexLabelFontSize: 18,
		click: onClick,
		//type: "column",
		type: "bar",
		indexLabelPlacement: "auto",
			indexLabel: "{y}",
			indexLabelFontSize: 14.5,
			indexLabelFontColor: "#ddd",
		yValueFormatString: "#,##0.0#\"%\"",
		dataPoints:dataPointsArray
	}]
});


console.log("dataPointsArray",dataPointsArray)
chart.render();
//chart2.render();
}

} // showIndicesPerformanceChart ENDS HERE



async function showIndicesAdvDecUncChart ( returnedDataObj )
{
	var selectedIndicesTimeValues = document.getElementById('indicesTimeValues').value
	//var selectedValue = document.getElementById("indices_performance_time").value;
		
	//var indicesPerformanceObject = mainOIDataObject['index_performace'][selectedValue]
	var indicesPerformanceObject = returnedDataObj ['data']
	
	console.log( "indicesPerformanceObject",indicesPerformanceObject )
	var dataPointsArray=[]
	var dataPointsArrayAdvances=[]
	var dataPointsArrayDeclines=[]
	var dataPointsArrayUnchanged=[]
	var dataPointsArrayPChangeAddition=[]
	
	var tempObj={}
	for (var symbol in indicesPerformanceObject) {
		//if(symbol !='INDIA VIX' && symbol !='NIFTY FINSRV25 50' && symbol !='NIFTY HEALTHCARE' )
		//if(symbol !='INDIA VIX' && symbol !='NIFTY FINSRV25 50' )
		if(symbol !='INDIA VIX' && symbol !='NIFTY FINSRV25 50' && symbol !='NIFTY NEXT 50' && symbol !='NIFTY 100' && symbol !='NIFTY 200' && symbol !='NIFTY 500' && symbol !='NIFTY MIDCAP 50' && symbol !='NIFTY MIDCAP 100' && symbol !='NIFTY SMLCAP 100' && symbol !='NIFTY MIDCAP 150' && symbol !='NIFTY SMLCAP 50' && symbol !='NIFTY SMLCAP 250' && symbol !='NIFTY MIDSML 400' && symbol !='NIFTY500 MULTICAP' && symbol !='NIFTY LARGEMID250' && symbol !='NIFTY TOTAL MKT' && symbol !='NIFTY MICROCAP250' && symbol !='NIFTY PSE' && symbol !='NIFTY SERV SECTOR' && symbol !='NIFTY COMMODITIES' && symbol !='NIFTY HEALTHCARE' )
		{
			
			//var data = indicesPerformanceObject[symbol]
			//var advDecUncPercentage = ( ( data['advances']  / ( data['advances'] + data['declines'] + data['unchanged'] ) )*100 ).toFixed(0)
			//tempObj[symbol] = advDecUncPercentage
			
			tempObj[symbol]=indicesPerformanceObject[symbol]['percentChange']
			
		}
	}
	
// tempObj is sorted by this code
//Object.keys(tempObj).sort((a,b) => tempObj[a]-tempObj[b]).forEach((symbol) => { 	// ascending sort
Object.keys(tempObj).sort((a,b) => tempObj[a]-tempObj[b]).forEach((symbol) => {  	//  descending sort
var temp={}
if(symbol !='NIFTY 50' && symbol !='NIFTY BANK')
//if(symbol !='NIFTY BANK')
{
	temp["label"]=symbol.replace(/NIFTY /g,'')
}
else{
	temp["label"]=symbol
}
	
	var data = indicesPerformanceObject[symbol]
	var advDecUncPercentage;
	
	if( data['advances'] > data['declines'] || data['advances'] == data['declines'] )
		{
		advDecUncPercentage= ( ( data['advances']  / ( data['advances'] + data['declines'] + data['unchanged'] ) )*100 ).toFixed(0)
		
		var percentage = advDecUncPercentage
		if( percentage>=0 && percentage<=65 ) 
		{
			temp["color"]='#607363ba'
		// indexLabel:'Sideways'
		}
		else if(  percentage>65 && percentage<=74  ) 
		{
			temp["color"]='#5586c3'
		// indexLabel:'Buy'
		}	
		else if(  percentage=>75 && percentage<=100  ) 
		{
			temp["color"]='#0c4b98de'
		// indexLabel:'Strong Buy'
		}
		
		}
	else if( data['declines'] > data['advances'] )
	{
	advDecUncPercentage= ( ( data['declines']  / ( data['advances'] + data['declines'] + data['unchanged'] ) )*100 ).toFixed(0)

var percentage = advDecUncPercentage
		if( percentage>=0 && percentage<=65 ) 
		{
			temp["color"]= '#7b5b5b'
		// indexLabel:'Sideways'
		}
		else if(  percentage>65 && percentage<=74  ) 
		{
			temp["color"]='#c05b5b'
		// indexLabel:'Sell'
		}	
		else if(  percentage=>75 && percentage<=100  ) 
		{
			temp["color"]='#990000'
		// indexLabel:'Strong Sell'
		}
		
		
	}
		
//advDecUncPercentage= ( ( data['advances']  / ( data['advances'] + data['declines'] + data['unchanged'] ) )*100 ).toFixed(0)
		//temp["y"]=tempObj[symbol]; 
		//temp["y"]= Math.abs( tempObj[symbol] ); 
		temp["y"]= Math.abs( advDecUncPercentage ); 
		//var percentage = tempObj[symbol]
				
		/*
		if( percentage>=0 && percentage<=25 ) 
		{
			temp["color"]='#990000'
		// indexLabel:'Strong Sell'
		}
		else if(  percentage>25 && percentage<=35  ) 
		{
			temp["color"]='#c05b5b'
		// indexLabel:'Sell'
		}	
		else if(  percentage>35 && percentage<=65  ) 
		{
			temp["color"]='#777a7c'
		// indexLabel:'Sideways'
		}
		else if(  percentage>65&& percentage<=75  ) 
		{
			temp["color"]='#5586c3'
		// indexLabel:'Buy'
		}
		else if(  percentage>75&& percentage<=100  ) 
		{
			temp["color"]= '#0c4b98de'
		// indexLabel:'Strong Buy'
		}
		*/
		
		dataPointsArray.push(temp)
	});

// this section is for plotting indices chart for simple perchange change of single column bar
var chart = new CanvasJS.Chart("MarketSentiment", {
	animationEnabled: false,
	theme: "dark2", // "light1", "light2", "dark1", "dark2"
	title: {
		//text: "GDP Growth Rate - 2016"
	},
	subtitles: [{
			//text: "Subtitle 1"
		  },{
			text:  'Adv-Dec | '+returnedDataObj['timestamp'].split(' ')[0] +' | '+ selectedIndicesTimeValues +' | '+returnedDataObj['timestamp'].split(' ')[1],
			//verticalAlign: "top",

			 //horizontalAlign: "right",
	
			 //fontSize: 15,
			 fontSize: 14,
			//dockInsidePlotArea: true
			dockInsidePlotArea: false
	}],
	
	toolTip: {
			//fontSize: 19,
			fontSize: 15,
	},
	axisY: {
		//title: "Growth Rate (in %)",
		//includeZero: true,
		//suffix: "%",
		gridThickness: 0.03,
		//labelFontSize: 18,
		labelFontSize: 0, // bottom size for change%
		 tickLength: 0,
		 
	},
	axisX: {
		interval: 1,
		//title: "Countries"
		includeZero: true,
		 //labelFontSize: 17,
		 labelFontSize: 14, // vertical axis size for text
		 //labelFontWeight: "bold",
		  lineThickness: 0.5,
         lineColor: "#ccc",
		 tickColor: "#555",
		 tickLength: 0,
		
		 
	},
	dataPointWidth: 13.5,
	data: [{
		//indexLabel: "{y}",
		//indexLabelFontSize: 18,
		click: onClick,
		//type: "column",
		type: "bar",
		indexLabelPlacement: "auto",
			indexLabel: "{y}",
			indexLabelFontSize: 14.5,
			indexLabelFontColor: "#ddd",
		yValueFormatString: " #,##0.0#\"%\"",
		dataPoints:dataPointsArray
	}]
});


console.log("dataPointsArray",dataPointsArray)
chart.render();
//chart2.render();

} // showIndicesPerformanceChart ENDS HERE




function onClick(e) {

		var label=e.dataPoint.label
		//if( mainOIDataObject['sector_stockNames'] !=undefined )
		{
			if( label=='NIFTY 50' )
			{
				document.getElementById("NIFTY_50").scrollIntoView();
				search_and_highlight_sector("NIFTY_50")
			}
			else if( label=='NIFTY BANK' )
			{
				document.getElementById("BANK").scrollIntoView();
				search_and_highlight_sector("BANK")
			}
			else{
				 search_and_highlight_sector(label.replace(/ /g,'_'))
				document.getElementById(label.replace(/ /g,'_')).scrollIntoView();
			}
		}
		//else
		{
		if( label=='CONSR DURBL' )
		{
			document.getElementById("CONSUMER_DURABLES").scrollIntoView();
			 search_and_highlight_sector("CONSUMER_DURABLES")
		}
		else if( label=='OIL AND GAS' )
		{
				document.getElementById("OIL_GAS").scrollIntoView();
			 search_and_highlight_sector("OIL_GAS")
		}
		
		else if( label=='FIN SERVICE' )
			{
				document.getElementById("FINANCIAL_SERVICES").scrollIntoView();
			 search_and_highlight_sector("FINANCIAL_SERVICES")
		}
			
		else if( label=='NIFTY BANK' )
			{
				document.getElementById("BANK").scrollIntoView();
			 search_and_highlight_sector("BANK")
		}
		
		else if( label=='PSU BANK' )
			{
				document.getElementById("PSU_BANK").scrollIntoView();
			 search_and_highlight_sector("PSU_BANK")
		}
		else if( label=='PVT BANK' )
			{
				document.getElementById("PRIVATE_BANK").scrollIntoView();
			 search_and_highlight_sector("PRIVATE_BANK")
		}
			
			
		else if( label=='NIFTY 50' )
		{
			document.getElementById("NIFTY_50").scrollIntoView();
			 search_and_highlight_sector("NIFTY_50")
		}
	else
		{
				 search_and_highlight_sector(label.replace(/ /g,'_'))
				document.getElementById(label.replace(/ /g,'_')).scrollIntoView();
			
		}
		
}
		
	
		
	}


var myelement = document.createElement("script");
myelement.setAttribute("src", "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js");
document.head.appendChild(myelement);

var tempSectorStoreValue=''
function search_and_highlight_sector(searchStr)
{
	if(tempSectorStoreValue!='' && tempSectorStoreValue!=searchStr)
	{
		//  $(window).scrollTop($("*:contains("+tempSectorStoreValue+")").parent('table').offset().top);
$("caption:contains("+tempSectorStoreValue+")" ).css( "color", "white" );
	}

		//var str='hello'
 // $(window).scrollTop($("*:contains("+searchStr+")").parent('table').offset().top);
$("caption:contains("+searchStr+")" ).css( "color", "#fb3271" );
	
	
tempSectorStoreValue=searchStr

}



</script>
<!-- Indices Code Ends Here -->



<!-- Sectors Stocks Code Starts Here -->

<style>* {   box-sizing: border-box;   } .spaceBetweenTablesSpurtsEquity { border: 2px solid #4b4d4e;min-height:602px;height: 550px;overflow-y: scroll;background-color: #32373a; }  .tableColumnForSpurtsUnderlyings {  float: left;   width: 24.9%;   padding: 5px;  border: 2px solid #4b4d4e;height: 320px;overflow-y: scroll;background-color: #32373a;  }   .tableRowForSpurtsUnderlyings:after {   content: "";   display: table;   clear: both;   }    .tableRowClass {   color: #ffffff;   background: #27ae60;   }   .PreOpenMarketClassLoosers{   color: #ffffff;   background: #ea6153;   }  caption {	white-space: nowrap;  text-align: center; color: #ffffff; height: px; padding-top: 0rem; padding-bottom: 0rem;	}	div::-webkit-scrollbar {  width: 2px;}				div::-webkit-scrollbar-track {  background: #f1f1f1; }			div::-webkit-scrollbar-thumb {  background: #888; } 		div::-webkit-scrollbar-thumb:hover {  background: #555; }</style>


<script>
var sectorStockNamesObj;
function setEquitySelectorTimeValues( passedValue )
{
	var tradingDate = document.getElementById('tradingDate').value
	var selectedMarketTypeValue = document.getElementById('marketType').value
	
	var timeValuesArray = firestoreIndexObj[ tradingDate ]['Index']['equity_market'][selectedMarketTypeValue]
	var selectElementRef = document.getElementById("equityTimeValues");
	
	handleTimeValues( passedValue, timeValuesArray, selectElementRef, getSectorsStocksData )
}

async function getSectorsStocksData( passedValue )
{
	var selectedMonthYear = document.getElementById('monthYear').value
	var selectedTradingDate = document.getElementById('tradingDate').value
	var selectedTimeValue = document.getElementById('equityTimeValues').value
	var selectedMarketTypeValue = document.getElementById('marketType').value
	
	var docPath = '/'+selectedMonthYear+'/'+selectedTradingDate+'/equity_market/'+selectedMarketTypeValue+'/'+selectedTimeValue+'/'+selectedTimeValue
	//var docPath = '/'+selectedMonthYear+'/'+selectedTradingDate+'/pre_open_market/FnO/'+selectedTimeValue+'/'+selectedTimeValue
	
	//await fetchFirebaseDocData( docPath, showIndicesPerformanceChart )
	var equityDataObj = await fetchFirebaseDocData( docPath )
	//console.log( "Equity Data Obj", JSON.parse( equityDataObj['data'] ))
	
	var collectioPath = '/'+selectedMonthYear+'/'+selectedTradingDate+'/sector_stockNames/'
	sectorStockNamesObj = await fetchSectorStockNamesCollectionData( collectioPath )
	
	var docPathForDeliveryData = '/'+selectedMonthYear+'/'+selectedTradingDate+'/delivery_data/delivery_data'
	var deliveryDataObj = await fetchDeliveryDataDocData( docPathForDeliveryData )
	
	
	showEquitySectorsStocksData ( JSON.parse( equityDataObj['data'] ), selectedTradingDate, selectedTimeValue, JSON.parse( deliveryDataObj['data'] ) )
show_market_strength_charts_Data( JSON.parse( equityDataObj['data'] ), selectedTradingDate, selectedTimeValue )
}


async function showEquitySectorsStocksData( equityDataObj, selectedTradingDate, selectedTimeValue, deliveryDataObj )
{

	 document.getElementById('sectorsStocksDataTableContainer').innerHTML = "";

	var selectedValue = selectedTimeValue;

	var niftyTotalMarketObject = equityDataObj['data']
	
	
		var tempObj = {};
		
		if( sectorStockNamesObj !=undefined )
		{
			for (var sector in sectorStockNamesObj ) {
				var sectorName = sector.replace(/ /g,'_') 
				//if( sectorName!='Template' )
				if( sectorName=='FnO' || sectorName=='NIFTY_50' || sectorName=='NIFTY_AUTO' || sectorName=='NIFTY_BANK' || sectorName=='NIFTY_COMMODITIES' || sectorName=='NIFTY_CONSR_DURBL' || sectorName=='NIFTY_ENERGY' || sectorName=='NIFTY_FINSRV25_50' || sectorName=='NIFTY_FIN_SERVICE' || sectorName=='NIFTY_FMCG' || sectorName=='NIFTY_HEALTHCARE' || sectorName=='NIFTY_INFRA' || sectorName=='NIFTY_IT' || sectorName=='NIFTY_MEDIA' || sectorName=='NIFTY_METAL' || sectorName=='NIFTY_MIDCAP_100' || sectorName=='NIFTY_MIDCAP_150' || sectorName=='NIFTY_MIDCAP_50' || sectorName=='NIFTY_MID_SELECT' || sectorName=='NIFTY_OIL_AND_GAS' || sectorName=='NIFTY_PHARMA' || sectorName=='NIFTY_PSE' || sectorName=='NIFTY_PSU_BANK' || sectorName=='NIFTY_PVT_BANK' || sectorName=='NIFTY_REALTY' || sectorName=='NIFTY_SERV_SECTOR' )
				{
					for (var s = 0; s < sectorStockNamesObj[sector].length; s++) {
						var Symbol = sectorStockNamesObj[sector][s].replace(/&amp;/g,'&')
						var symbolArray = niftyTotalMarketObject[Symbol] //for short-handing
						if ( symbolArray != undefined) // if sector name does not exist then create empty object with sector name
						{
						if (tempObj[sectorName] == undefined) // if sector name does not exist then create empty object with sector name
						{
							tempObj[sectorName] = {}

							if (tempObj[sectorName][Symbol] == undefined) // if symbol does not exist in sector then create empty object with stock name in sector
							{
								tempObj[sectorName][Symbol] = {}
								tempObj[sectorName][Symbol] = symbolArray
							}
							else	// if symbol exist in sector then add new data
							{
								tempObj[sectorName][Symbol] = symbolArray
							}
						}
						else // if sector name exist then run this block
						{
							if (tempObj[sectorName][Symbol] == undefined)  // if symbol does not exist in sector then create empty object with stock name in sector
							{
								tempObj[sectorName][Symbol] = {}
								tempObj[sectorName][Symbol] = symbolArray
							}
							else // if symbol exist in sector then add new data
							{
								tempObj[sectorName][Symbol] = symbolArray
							}

						}
					}
				}

				}
			}
		}
	
		//console.log( "Sector stocks in Total Equity Market", tempObj )
	
	var tablesStr=''
	//for (var sector in niftyTotalMarketObject) {
	for (var sector in Object.fromEntries(Object.entries(tempObj).sort())) {
		
		
		//if(sector != 'NIFTY_50' )
		{
			//console.log(sector.replace(/NIFTY_/g,''))	
			
		if(sector == 'NIFTY_50' )
		{
			tablesStr += '<div class="column2">    <div class="spaceBetweenTablesSpurtsEquity">     <table id="'
		+sector
		+'">            <caption style="caption-side:top">'
	 +sector
	 //+' (% Change-Wise)</caption>     <thead>       <tr>               <th class="NiftyTotalMarketClass">Symbol</th>               <th class="NiftyTotalMarketClass">VPC</th>              <th class="NiftyTotalMarketClass">Change(%)</th>			   <th class="NiftyTotalMarketClass">T.O.</th>            </tr> </thead>'
	 +' | '+selectedTradingDate+' | '+selectedValue+'</caption>     <thead class="tableRowClass">       <tr>               <th class="NiftyTotalMarketClass">Symbol</th>              <th class="NiftyTotalMarketClass">Cng%</th>  <th class="NiftyTotalMarketClass">Level</th>	   <th class="NiftyTotalMarketClass">pLevel</th>           <th class="NiftyTotalMarketClass">20DAV</th>            </tr> </thead>'
       +'<tbody>'
		}
		else
		{
		tablesStr += '<div class="column2">    <div class="spaceBetweenTablesSpurtsEquity">     <table id="'
		+sector.replace(/NIFTY_/g,'')
		+'">            <caption style="caption-side:top">'
	 +sector.replace(/NIFTY_/g,'')
	 //+' (% Change-Wise)</caption>     <thead>       <tr>               <th class="NiftyTotalMarketClass">Symbol</th>               <th class="NiftyTotalMarketClass">VPC</th>              <th class="NiftyTotalMarketClass">Change(%)</th>			   <th class="NiftyTotalMarketClass">T.O.</th>            </tr> </thead>'
	 +' | '+selectedTradingDate+' | '+selectedValue+'</caption>     <thead class="tableRowClass">       <tr>               <th class="NiftyTotalMarketClass">Symbol</th>              <th class="NiftyTotalMarketClass">Cng%</th>		<th class="NiftyTotalMarketClass">Level</th>		   <th class="NiftyTotalMarketClass">pLevel</th>               <th class="NiftyTotalMarketClass">20DAV</th>            </tr> </thead>'
       +'<tbody>'
		}
	   
	   	   
		for( var Symbol in tempObj[sector] )
		{

	   var symbolArray = niftyTotalMarketObject[Symbol] //for short-handing
	
		if( symbolArray!=undefined && deliveryDataObj["Symbols"][Symbol]!=undefined ){
		//if( symbolArray!=undefined  ){
	//console.log(sector,Symbol)

	var average20DaysValue = deliveryDataObj["Symbols"][Symbol]["calculatedData"]["averageValues"]["twentyDays"]
	var twentyDAV =( symbolArray["totalTradedValue"]  / average20DaysValue)

    var DayHigh = symbolArray['dayHigh'] 
	 var DayLow = symbolArray['dayLow'] 
	 var LastPrice = symbolArray['lastPrice'] 
	 
	 var pDayHigh = deliveryDataObj["Symbols"][Symbol]["deliveryData"][3] 
	var pDayLow = deliveryDataObj["Symbols"][Symbol]["deliveryData"][4]
	
	  var pDayRange =( ( (pDayHigh - pDayLow) / pDayLow) )
	  var pLevel =  ( ( ( (LastPrice - pDayLow) / pDayLow) *10) / pDayRange)
	
	var rFactor = Number (symbolArray["pChange"] )*( symbolArray["totalTradedValue"]  / average20DaysValue)
	 
	  var DayRange =( ( (DayHigh - DayLow) / DayLow) *100)
	var DayRange2 =( ( (DayHigh - DayLow) / DayLow) )
	  var Level =  ( ( ( (LastPrice - DayLow) / DayLow) *10) / DayRange2)
	   var Edge = (twentyDAV+Level)
		
			//if( symbolArray[4]>=60 )
			{
			 tablesStr +='<tr class="item"><td>'
			 +Symbol
			 +'</td><td>'
			+symbolArray["pChange"] //pchange
			 +'</td><td>'
			 +Level.toFixed(0)
			 +'</td><td>'
			 +pLevel.toFixed(0) //symbolArray["lastPrice"] 
			 //+(symbolArray["totalTradedValue"] / 100000).toFixed(0) //totalTradedVolume
			  +'</td><td>'
			+twentyDAV.toFixed(2)
			 +'</td></tr>'
			}
		}
		}
		
	 tablesStr +=' </tbody> </table>    </div>  </div>'
	}
	
	}

	 document.getElementById('sectorsStocksDataTableContainer').innerHTML = tablesStr;
	 
addEventListnerInTables()
}	//	show_stock_options_Data() Function ENDS HERE

</script>
<!-- Sectors Stocks Code Ends Here -->

<!-- Market Strength Code Starts Here -->

<script>

async function show_market_strength_charts_Data( equityDataObj, selectedTradingDate, selectedTimeValue )
{
	 //document.getElementById('allMarketStrengthChartsContainer').innerHTML = "";

	var selectedValue = selectedTimeValue;
	
	var niftyTotalMarketObject = equityDataObj['data']

	var FnO_AdvancesDeclinesUnchangedArr = [0,0,0]
	var NIFTY_50_AdvancesDeclinesUnchangedArr = [0,0,0]
	var NIFTY_Bank_AdvancesDeclinesUnchangedArr = [0,0,0]
	var NIFTY_Total_Market_AdvancesDeclinesUnchangedArr = [ equityDataObj["advances"], equityDataObj["declines"], equityDataObj["unchanged"]  ]
	
	if( sectorStockNamesObj['FnO']!=undefined )
	{
	var symbolsArray = sectorStockNamesObj['FnO']
	for(var i=0;i<symbolsArray.length;i++)
	{
	var stockName = symbolsArray[i]
	var pChange = niftyTotalMarketObject[stockName]["pChange"]	
	if( pChange !=undefined)
		{
			if(pChange > 0)
				FnO_AdvancesDeclinesUnchangedArr[0] = FnO_AdvancesDeclinesUnchangedArr[0] + 1
			else if(pChange < 0)
				FnO_AdvancesDeclinesUnchangedArr[1] = FnO_AdvancesDeclinesUnchangedArr[1] + 1
			else
				FnO_AdvancesDeclinesUnchangedArr[2] = FnO_AdvancesDeclinesUnchangedArr[2] + 1
	}
		
	}
	}
	
	
	if( sectorStockNamesObj['NIFTY_50']!=undefined )
	{
	var symbolsArray = sectorStockNamesObj['NIFTY_50']
	for(var i=0;i<symbolsArray.length;i++)
	{
	var stockName = symbolsArray[i]
	var pChange = niftyTotalMarketObject[stockName]["pChange"]	
	if( pChange !=undefined)
		{	
		if(pChange > 0)
				NIFTY_50_AdvancesDeclinesUnchangedArr[0] = NIFTY_50_AdvancesDeclinesUnchangedArr[0] + 1
			else if(pChange < 0)
				NIFTY_50_AdvancesDeclinesUnchangedArr[1] = NIFTY_50_AdvancesDeclinesUnchangedArr[1] + 1
			else
				NIFTY_50_AdvancesDeclinesUnchangedArr[2] = NIFTY_50_AdvancesDeclinesUnchangedArr[2] + 1
			
	}
		
	}
	}
	
	
	if( sectorStockNamesObj['NIFTY_BANK']!=undefined )
	{
	var symbolsArray = sectorStockNamesObj['NIFTY_BANK']
	for(var i=0;i<symbolsArray.length;i++)
	{
	var stockName = symbolsArray[i]
	var pChange = niftyTotalMarketObject[stockName]["pChange"]	
	if( pChange !=undefined)
		{	
	if(pChange > 0)
				NIFTY_Bank_AdvancesDeclinesUnchangedArr[0] = NIFTY_Bank_AdvancesDeclinesUnchangedArr[0] + 1
			else if(pChange < 0)
				NIFTY_Bank_AdvancesDeclinesUnchangedArr[1] = NIFTY_Bank_AdvancesDeclinesUnchangedArr[1] + 1
			else
				NIFTY_Bank_AdvancesDeclinesUnchangedArr[2] = NIFTY_Bank_AdvancesDeclinesUnchangedArr[2] + 1
			
	}
		
	}
	}
	
	 MarketStrengthDonutCharts( 'Nifty50DonutChartContainer', 'Nifty 50', NIFTY_50_AdvancesDeclinesUnchangedArr )
	 MarketStrengthDonutCharts( 'NiftyBankDonutChartContainer', 'Nifty Bank', NIFTY_Bank_AdvancesDeclinesUnchangedArr )
	 MarketStrengthDonutCharts( 'FnODonutChartContainer', 'FnO', FnO_AdvancesDeclinesUnchangedArr )
	 MarketStrengthDonutCharts( 'NiftyTotalMarketDonutChartContainer', 'Nifty Total Market', NIFTY_Total_Market_AdvancesDeclinesUnchangedArr )
	
}	//	show_stock_options_Data() Function ENDS HERE


function MarketStrengthDonutCharts( marketType, chartHeading, dataArray ) {
	// this function catches Array from showDataInTOTALOI() function and it then fetch required values from Array
	//based on fetched values, it renders the data on  	donutChartContainer		chart 
	// it then call this PriceTime(dataArray) function for printing the values in     MyPriceDiv    div and 		price	div
	//showDataSupportRegistance(dataArray) : it hen call this function and renders Support & Registance in		supportRegistanceChart		chart
	//showOIBuildupData()
	//it then sends/passes the catched Array to  DonutChart(dataArray) function.

	var Advances = ((dataArray[0] / (dataArray[0] + dataArray[1])) *100).toFixed(0) 
	var Declines =  ((dataArray[1] / (dataArray[0] + dataArray[1])) *100).toFixed(0)  //dataArray[1]
	var Unchanged =  0 //dataArray[2]
	
			// PEColor = "#990000" //red CE
		// PEColor = "#089981" //green CE
		
		var AdvancesColor, DeclinesColor;
		if( Advances>=0 && Advances<=60 ) 
		{
			AdvancesColor= '#797777' //'#607363ba'
		// indexLabel:'Sideways'
		}
		else if(  Advances>60 && Advances<=74  ) 
		{
			AdvancesColor='#5586c3'
		// indexLabel:'Buy'
		}	
		else if(  Advances=>75 && Advances<=100  ) 
		{
			AdvancesColor='#0c4b98de'
		// indexLabel:'Strong Buy'
		}
		
		
		if( Declines>=0 && Declines<=59 ) 
		{
			DeclinesColor= '#797777' // '#7b5b5b'
		// indexLabel:'Sideways'
		}
		else if(  Declines=>60 && Declines<=74  ) 
		{
			DeclinesColor='#c05b5b'
		// indexLabel:'Sell'
		}	
		else if(  Declines=>75 && Declines<=100  ) 
		{
			DeclinesColor='#990000'
		// indexLabel:'Strong Sell'
		}
		
		
		
		var chart ;
	if( Unchanged >0 )
	{
	
		
	chart = new CanvasJS.Chart(marketType, {
		//green "#99cc00"
		//red   "#e60000"

		animationEnabled: false,
		theme: "dark2", // "light1", "light2", "dark1", "dark2"
		title: {
			text: chartHeading,
			horizontalAlign: "center",
			fontSize: 18,
		},
		data: [{
			indexLabelPlacement: "inside",

			type: "doughnut",
			startAngle: 90,
			//innerRadius: 60,
			indexLabelFontSize: 15,
			indexLabelFontColor: "white",
			//indexLabel: "{label} {y}",
			indexLabel: "{y}",
			toolTipContent: "<b>{label}:</b> {y}",
			
			dataPoints: [
				{ y: Advances, label: "Advances", color: AdvancesColor, }, //Advances == green
				{ y: Declines, label: "Declines", color: DeclinesColor, }, // Declines == red
				//{ y: Unchanged, label: "Unchanged", color: '#cbba4d', }, //Unchanged == blue
				]

		}]
	});
	
	}
	else
	{
		
	chart = new CanvasJS.Chart(marketType, {
		//green "#99cc00"
		//red   "#e60000"

		animationEnabled: false,
		theme: "dark2", // "light1", "light2", "dark1", "dark2"
		title: {
			text: chartHeading,
			horizontalAlign: "center",
			fontSize: 18,
		},
		data: [{
			indexLabelPlacement: "inside",

			type: "doughnut",
			startAngle: 90,
			//innerRadius: 60,
			indexLabelFontSize: 15,
			indexLabelFontColor: "white",
			indexLabel: "{y}",
			toolTipContent: "<b>{label}:</b> {y}",
			
			dataPoints: [
				{ y: Advances, label: "Advances", color: AdvancesColor, }, //Advances == green
				{ y: Declines, label: "Declines", color: DeclinesColor, }, // Declines == red
				]

		}]
	});
		
	}
	
	
	chart.render();

}


</script>
<!-- Market Strength Code Ends Here -->

<style>		.float{	position:fixed;	width:25px;	height:50px;	bottom:16%;	right:10px;			border-radius:50px;	text-align:center;	}.vertical-centerFloat {   float: right;  margin: 0;  position: sticky;  top: 50%;  -ms-transform: translateY(-50%);  transform: translateY(-50%);	}  .Floatbtn{ margin-top:1px;} </style>
<div class="float"> 	<button class="Floatbtn" onclick="document.getElementById('commonTimeValues').scrollIntoView();"><b><span style="font-size:20px;">&#8593;</span></b></button><br/>	     <button class="Floatbtn" onclick="getFirestoreData('live','')"><b><span style="font-size:20px;">&#8883;</span></b></button>	</div>
<!-- <div class="float"> 	<button class="Floatbtn" onclick="document.getElementById('IndicesPerformanceChart').scrollIntoView();"><b><span style="font-size:20px;">&#8593;</span></b></button><br/>	    <button class="Floatbtn" onclick="getFirestoreData('refresh','')"><b><span style="font-size:20px;">&#8635;</span></b></button><br/>		 <button class="Floatbtn" onclick="getFirestoreData('live','')"><b><span style="font-size:20px;">&#8883;</span></b></button><br/>	    <button class="Floatbtn" onclick="document.getElementById(\'indices_performance_time\').scrollIntoView();"><b><span style="font-size:20px;">&#8595;</span></b></button>	<br/>	    <button class="Floatbtn" onclick="document.getElementById(\'EquitySpurtsContainerDiv\').scrollIntoView();"><b><span style="font-size:20px;">&#8595;</span></b></button>	<br/>	    <button class="Floatbtn" onclick="document.getElementById(\'heatMapSectorSelector\').scrollIntoView();"><b><span style="font-size:20px;">&#8595;</span></b></button>	</div> -->


<script>
// Example usage: generate month and year from April 2023 till now
generateMonthYearFromDate( new Date("April 2023") );
</script>